//
// Test of various functionality of m8rscript
//

//var a = [ "one", "two", "three" ];
//for (var s : 

function add()
{
	var n = 0;
	for (var i = 0; i < arguments.length; ++i) {
		n += arguments[i];
	}
	return n;
}

Serial.print("add() = " + add() + "\n");
Serial.print("add(8) = " + add(8) + "\n");
Serial.print("add(5, 7) = " + add(5, 7) + "\n");
Serial.print("add(4, 3, 2) = " + add(4, 3, 2) + "\n");
Serial.print("add(1, 2, 3, 4) = " + add(1, 2, 3, 4) + "\n");

// Range tests
var m1 = 9.5;
Serial.print("m1 * 1000 = " + m1 * 1000 + "\n");

Serial.print("2100 / 1000 = " + 2100 / 1000 + "\n");

Serial.print("add(1, 2, 3) = " + add(1, 2, 3) + "\n");
var b = [ 1, 2, 3 ];
var c = 12.5;
var a = { b : 5+c, "foo" : b % c, 12.3 : "Bar", 54325667 : c };
var d = 5;
d *= 3;
Serial.print("Array b[1] = " + b[1] + "\n");
Serial.print("Object a[54325667] = " + a[54325667] + "\n");
Serial.print("Object a.b = " + a.b + "\n");
Serial.print("d=" + d + "\n");

var e = 4;
var a = c * c + e * e;

Serial.print("a = " + a + "\n");

function multi(x)
{
	return { q:x - 3, r:x * 4, s:x / 5 };
}

var a = multi(4);
Serial.print("a=" + a + "\n");

for (var i = 0; i < 1000; ++i) {
	var x = "String " + i;
}
